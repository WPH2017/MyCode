<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        window.onload=function(){
            var oCheck=document.getElementsByTagName("input");
            var btn=document.getElementById("btn");

            var flag=false;//标志量
            btn.onclick=function(){
                flag=flag?false:true;//切换标志，作用在于取反
                var state=flag?"checked":"";
                for(var i=0;i<oCheck.length-1;i++){
                    oCheck[i].checked=state;
                }
                btn.value=btn.value=="全选"?"取消全选":"全选";
            } 
        }    
    </script>
</head>
<body>
    <div id="box">
        <p><input type="checkbox">吃饭</p>
        <p><input type="checkbox">吃饭</p>
        <p><input type="checkbox">吃饭</p>
        <p><input type="checkbox">吃饭</p>
        <p><input type="checkbox">吃饭</p>
        <p><input type="checkbox">吃饭</p>
    </div>
    <input type="button" id="btn" value="全选">
</body>
</html>