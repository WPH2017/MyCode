<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>栈</title>
</head>
<body>
<script>
  function Stack() {
    let items=[];
    this.push=function (element) {
      items.push(element);
    };
    this.pop=function () {
      return items.pop();
    };
    this.peek=function () {
      return items[items.length-1];
    };
    this.isEmpty=function () {
      return items.length === 0;
    };
    this.size = function () {
      return items.length;
    };
    this.clear=function () {
      items=[];
    };
    this.print=function () {
      console.log(items.toString());
    }
  }

//  最佳实践
//  let Stack=(function () {
//    const items=new WeakMap();
//    class Stack{
//      constructor(){
//        set(this,[]);
//      }
//    }
//    return Stack;
//  })

//  应用
//  1. 十进制到二进制
  function divideBy2(decNumber) {
    var remStack=new Stack(),
        rem,
        binaryString='';

    while(decNumber>0){
      rem=Math.floor(decNumber%2);
      remStack.push(rem);
      decNumber=Math.floor(decNumber/2);
    }

    while(!remStack.isEmpty()){
      binaryString+=remStack.pop().toString();
    }

    return binaryString;
  }

//  2. 进制转换
  function baseConverter(decNumber,base) {
    var remStack=new Stack(),
        rem,
        baseString='',
        digits='0123456789ABCDEF';
    while(decNumber>0){
      rem=Mathi.floor(decNumber%base);
      remStack.push(rem);
      decNumber=Math.floor(decNumber%base);
    }
    while(!remStack.isEmpty){
      baseString+=digits[remStack.pop()];
    }
    return baseString;
  }
</script>
</body>
</html>